<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
  <div id="assignment-header" class="row">
    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
      <h3>{{ assignment.title }}</h3>
      <div>
        Posted: {{ assignment.posted | date:'shortDate' }} 
        Due: {{ assignment.due | date:'shortDate' }}
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-5 col-md-5 col-sm-7 col-xs-12">
      DESCRIPTION
      <div id="assignment-description" class="well">
        <small>
          {{ assignment.description }}
        </small>
      </div>
    </div>
    <div class="col-lg-3 col-md-3 col-sm-5 col-xs-12">
      <div id="assignment-submission-dropbox" class="row" auth="student">
        DROPBOX
        <div id="assignment-submission-widget" class="well">
          <!-- Button trigger modal -->
          <button data-toggle="modal" data-target="#submit-modal" class="btn btn-block btn-sm btn-info">Submit</button>
          <div>
            <ul class="list-unstyled">
              <li ng-repeat="submission in assignment.submissions | orderBy:'posted':true">
                <a>{{ submission._id | characters:10 }}</a>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <div id="assignment-submission-attachment" class="row" ng-show="assignment.attachments">
        ATTACHMENTS
        <div id="assignment-attachments-widget" class="well">
          <ul class="list-unstyled">
            <li data-ng-repeat="attachment in assignment.attachments">
            <a>{{ attachment.filename }}</a>
            </li>
          </ul>
        </div>
      </div> <!-- /.row -->
    </div>
  </div>
  <div auth="instructor">
    <h6>Student Submissions</h6>
    <div class="row well" ng-repeat="studentSubmission in submissions">
      <h3>{{studentSubmission.studentName}}</h3><br> 
      Collaborators:{{studentSubmission.collaborators}}<br>
      {{studentSubmission.description}}
      <div ng-repeat="attachment in studentSubmission.attachments" class="col-lg-4">
        {{attachment.name}}
      </div>
    </div>
  </div>
</div> <!-- /.container -->

<!-- Modal -->
<div class="modal fade" id="submit-modal" tabindex="-1" role="dialog" aria-labelledby="submit-modal" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">Make A Submission</h4>
      </div><!-- /.modal/header-->
      <div class="modal-body">
        <div class="row">
          <div id="submission-description-container" class="col-md-12 well">
            <div id="submission-description-row" class="row">
              <textarea role="textbox" contenteditable="true" ng-model="submissionDescription" id="submission-description" placeholder="Enter description here" tabindex="1"></textarea>
            </div> 
            <div id="submission-attachments" class="row col-sm-12 col-xs-12">
              <ul id="submission-attachment-list" class="list-unstyled">
                <li class="submission-attachment-box" ng-repeat="attachment in submissionAttachments">
                <span class="submission-attachment-box-left col-xs-12"><small>{{ attachment.basename }}</small></span>
                <i role="button" class="submission-attachment-box-right fa fa-times"></i>
                </li>
              </ul>
            </div>
          </div> <!-- /#submission-description-container -->

        </div>

        <div id="collaborator-search" class="row submission-collaborator-search-container" ng-hide="hideCollabs">
          <div class="collaborator-search-input">
            Search: <input ng-model="query" value="name">
          </div>
          <ul class="collaborator-search" ng-style="{visibility: query || 'hidden'}">
            <li ng-repeat="person in roster | filter:query" class="searched-collaborator col-lg-3 col-md-3 col-sm-4 col-xs-4">
            {{person.name}} <i class="submission-collaborator-add fa fa-plus fa-md" ng-click="addTag(person.name,person._id)"></i>
            </li>
          </ul>   
        </div>
        <div class="row submission-collaborator-container">
          <div id="collaborator-container" class="col-md-12" ng-repeat="collab in submissionCollaborators">
            <div id="collaborator-{{collab.name}}-{{collab._id}}" class="col-lg-2 col-md-2 col-sm-12 col-xs-12  submission-collaborator" >
              <table><tr>
                  <td><small>{{collab.name}}</small></td>
                  <td><i class="submission-collaborator-remove fa fa-times" ng-click="removeTag(collab.name,collab._id)"></i></td>
              </tr></table>
            </div>
          </div>
        </div>

        <div id="submission-submit-container" class="row ">
          <button type="button" class="btn btn-large btn-primary col-lg-3 col-md-3 col-sm-4 col-xs-12" ng-click="submit()">Submit</button>
          <div title="Add Attachment" class="btn col-lg-1 col-md-2 col-sm-2 col-xs-12 submission-button">
            <span><i class="fa fa-paperclip fa-lg"></i></span>
            <input type="file" ng-file-select="onFileSelect($files)" multiple/>
          </div>
          <button class="btn col-lg-1 col-md-2 col-sm-2 col-xs-12 submission-button" id="submission-collaborator-icon" title="Add Collaborator" ng-click="toggleCollabs()"><i class="fa fa-user fa-lg"></i></button>
          <button class="btn col-lg-1 col-md-2 col-sm-2 col-xs-12 submission-button lg-float-right" id="submission-discard-icon" data-dismiss="modal" aria-hidden="true" ng-click="discardSubmission()"><i class="fa fa-trash-o fa-lg"></i></button>
        </div>

      </div> <!-- /.modal-body -->

    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
